<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Statistik Jenis Kelamin</title>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
   
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/js/all.min.js" integrity="sha512-8pHNiqTlsrRjVD4A/3va++W1sMbUHwWxxRPWNyVlql3T+Hgfd81Qc6FC5WMXDC+tSauxxzp1tgiAvSKFu1qIlA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.27.2/axios.min.js" integrity="sha512-odNmoc1XJy5x1TMVMdC7EMs3IVdItLPlCeL5vSUPN2llYKMJ2eByTTAIiiuqLg+GdNr9hF6z81p27DArRFKT7A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  </head>

  <body>
        <!-- header start -->
        <%- include('header'); -%>
        <!-- header end   -->
    <div class="row g-0 mt-5">
      
      <!-- header start -->
      <%-  include('sidebar'); -%>
      <!-- header end   -->

      <div class="col-md-10 p-5 pt-5">
        <h3> <i class="fa-solid fa-person-falling-burst"></i>&nbsp&nbspSTATISTIK JENIS KELAMIN</h3>
        <hr/>

        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
           <button class="btn btn-primary" type="button"><i class="fa-solid fa-chart-column"></i>&nbspUbah grafik</button>
        </div>
        <div class="container-fluid " style="width:400px ;">
          <canvas id="myChart"></canvas>
        </div>
      </div>
    </div>

    <script>
      const labels = ["Laki-Laki", "Perempuan"];

      const data = {
        labels: labels,
        datasets: [
          {
            label: ["My First dataset"],
            backgroundColor: [
              "rgb(255, 99, 132)",
              "rgb(54, 162, 235)",
              "rgb(255, 205, 86)",
            ],

            data: [2, 10],
            hoverOffset: 4,
          },
        ],
      };

      const config = {
        type: "bar",
        data: data,
        options: {
          plugins:{
            title:{
              display: true,
              text: 'Grafik Pekerjaan'
            }
          }
        },
      };

      const myChart = new Chart(document.getElementById("myChart"), config);
      
      axios.get('/statistik/umur').then(e => {
        console.log(e);
        myChart.data.datasets[0].data = e.data.data;
        myChart.update();
      })

    </script>

    <!-- footer start -->
    <%- include('footer'); -%>
    <!-- footer end   -->
  </body>
</html>
